<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Asher Uman’s Portfolio</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Asher Uman’s Portfolio" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/valetbike.html" />
<meta property="og:url" content="http://localhost:4000/valetbike.html" />
<meta property="og:site_name" content="Asher Uman’s Portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Asher Uman’s Portfolio" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Asher Uman’s Portfolio","url":"http://localhost:4000/valetbike.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="site-title">Asher Uman</h1>
        
        <!--  -->

        <div>
            <a href="https://www.linkedin.com/in/ashruman/">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16">
                    <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
                </svg>
            </a>
            
            <a href="https://github.com/ashruman">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                </svg>
            </a>
            
            <a href="mailto:asheruman@gmail.com">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16">
                    <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/>
                </svg>
            </a>
        </div>

        <h2 style="margin-top: 10px; margin-bottom: 10px;"> Software Engineer <br> &emsp; <sub><em>&& Game Developer</em></sub></h2>
        <p>
            Hi there! I'm Asher Uman, a software engineer with experience in web/game dev. 
            Feel free to browse my portfolio to learn more about me and check out some of the projects I've worked on!
        </p>
        
        <div class="navlinks">
        <a href="index.html" class="button two">> projects</a><br>
        <a href="about.html" class="button two">> about</a><br>
        <a href="resume.html" class="button two">> resume</a>
        </div>

      </header>
      <section>

      <body>
    <h1 style="color:var(--brownaccent);"> >> ValetBike </h1>

    <p>
        <b>Role:</b> Full-stack software engineer<br>
        <b>Tools used:</b> Ruby on Rails, MySQL, Git<br>
        <b>Team Size:</b> 5<br>
        <b>Timeline:</b> 8 weeks
    </p>

    <p>
        ValetBike is a web application that simulates a bike-rental service, created from scratch as a Software Engineering course project. 
        I was the main contributer for the user account and bike rental functionality.
        This required managing and connecting multiple MySQL tables, as well as creating the relevant webpages with Ruby on Rails and HTML.
    </p>

    <p>
        All the code and more information is available on the project <a href="https://github.com/thuntran/valetbike">Github repository</a>, and you can also view the <a href="https://valetbikergn.herokuapp.com/">live website</a>.
    </p>

    <h2>Creating the Rental System</h2>
    <p>
        The goal of ValetBike was to create a minimum viable product from scratch in 8 weeks. 
        Additionally, no one on the team had significant experience with MySQL or Ruby on Rails prior to the start of development. 
        One of the main challenges I faced was having to quickly figure out how to implement the basics of the bike rental system. 
        A key aspect of this was creating and updating the rides database. 
    </p>
    <img class="bordered" src="./assets/img/rentbike.png" alt="ValetBike Rent page"/>
    <p>
        When a logged-in user goes to the "Rent" page, they can select a station to rent a bike from,
        bringing up another dropdown to select a bike from that station. 
        If they access this page by selecting a bike and station from the map page, this information is autofilled for them.
    </p>
    <p>
        Selecting "Start ride" will create a new row in the Rides table, 
        storing a variety of information about the ride. 
    </p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Ride</span> <span class="o">&lt;</span> <span class="no">ApplicationRecords</span>
    <span class="n">validates_presence_of</span>   <span class="ss">:start_station_id</span><span class="p">,</span>
                            <span class="ss">:user_id</span><span class="p">,</span>
                            <span class="ss">:bike_id</span><span class="p">,</span>
                            <span class="ss">:start_time</span>
                            <span class="ss">:identifier</span>

    <span class="n">belongs_to</span> <span class="ss">:user</span><span class="p">,</span> <span class="ss">class_name: :User</span><span class="p">,</span> <span class="ss">foreign_key: :user_id</span>
    <span class="n">belongs_to</span> <span class="ss">:bike</span><span class="p">,</span> <span class="ss">class_name: :Bike</span><span class="p">,</span> <span class="ss">foreign_key: :bike_id</span>
    <span class="n">belongs_to</span> <span class="ss">:start_station</span><span class="p">,</span> <span class="ss">class_name: :Station</span><span class="p">,</span> <span class="ss">foreign_key: :start_station_id</span>
    <span class="n">belongs_to</span> <span class="ss">:end_station</span><span class="p">,</span> <span class="ss">class_name: :Station</span><span class="p">,</span> <span class="ss">foreign_key: :end_station_id</span>

<span class="k">end</span></code></pre></figure>

<p> 
    Users are then redirected to the page below, and unable to return to the "Rent" page until they choose to end their ride, 
    which they can do through either this page, or by accessing their ride history on the "My Account" page. 
    Users are redirected back to this page any time they click on "Rent" in the navbar while on a ride.
</p>
 <img class="bordered" src="./assets/img/onride.png" alt="ValetBike Ride page"/>
 <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"> <span class="k">if</span> <span class="o">!</span><span class="vi">@mostRecentRide</span><span class="p">.</span><span class="nf">end_time</span>
    <span class="vi">@chosenBike</span> <span class="o">=</span> <span class="no">Bike</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">id: </span><span class="vi">@mostRecentRide</span><span class="p">.</span><span class="nf">bike_id</span><span class="p">)</span>
    <span class="n">redirect_to</span> <span class="ss">action: </span><span class="s2">"update"</span><span class="p">,</span> <span class="ss">id: </span><span class="vi">@chosenBike</span><span class="p">.</span><span class="nf">identifier</span>
    <span class="n">flash</span><span class="p">[</span><span class="ss">:alert</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"You can only rent one bike at a time! Please end your current ride before starting a new one."</span>
<span class="k">end</span>
 </code></pre></figure>

 <p>
    Ending a ride passes the rides identifier* to the <b>edit</b> method, 
    and brings up the "End Ride" page, prompting the user to choose a station to return their rental bike to.
 </p>
<img class="bordered" src="./assets/img/endride.png" alt="ValetBike Ride page"/>
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">edit</span>
    <span class="c1"># the ride is accessed through both filtering for rides from the current user and finding the ride identifier</span>
    <span class="vi">@ride</span> <span class="o">=</span> <span class="no">Ride</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">user_id: </span><span class="n">current_user</span><span class="p">.</span><span class="nf">id</span><span class="p">).</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">identifier: </span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="vi">@bike</span> <span class="o">=</span> <span class="no">Bike</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="vi">@ride</span><span class="p">.</span><span class="nf">bike_id</span><span class="p">)</span>
    <span class="vi">@stations</span> <span class="o">=</span> <span class="no">Station</span><span class="p">.</span><span class="nf">all</span><span class="p">.</span><span class="nf">order</span><span class="p">(</span><span class="ss">identifier: :asc</span><span class="p">)</span>
    <span class="c1"># updates ride attributes once a station has been selected (and if the ride has not already been ended)</span>
    <span class="k">if</span> <span class="n">params</span><span class="p">[</span><span class="ss">:station</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="vi">@ride</span><span class="p">.</span><span class="nf">end_station_id</span>
        <span class="vi">@chosenStation</span> <span class="o">=</span> <span class="no">Station</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">name: </span><span class="n">params</span><span class="p">[</span><span class="ss">:station</span><span class="p">])</span>
        <span class="k">if</span> <span class="vi">@chosenStation</span><span class="p">.</span><span class="nf">docked_bikes</span><span class="p">.</span><span class="nf">count</span> <span class="o">&gt;=</span> <span class="vi">@chosenStation</span><span class="p">.</span><span class="nf">dock_count</span>
            <span class="n">flash</span><span class="p">[</span><span class="ss">:alert</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"This station is full!"</span>
            <span class="n">params</span><span class="p">.</span><span class="nf">delete</span> <span class="ss">:station</span>
        <span class="k">else</span>
            <span class="vi">@ride</span><span class="p">.</span><span class="nf">update_attribute</span><span class="p">(</span><span class="ss">:end_station_id</span><span class="p">,</span> <span class="vi">@chosenStation</span><span class="p">.</span><span class="nf">id</span><span class="p">)</span>
            <span class="vi">@ride</span><span class="p">.</span><span class="nf">update_attribute</span><span class="p">(</span><span class="ss">:end_time</span><span class="p">,</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">now</span><span class="p">)</span>
            <span class="vi">@bike</span><span class="p">.</span><span class="nf">update_attribute</span><span class="p">(</span><span class="ss">:current_station</span><span class="p">,</span> <span class="vi">@chosenStation</span><span class="p">)</span>
            <span class="vi">@bike</span><span class="p">.</span><span class="nf">update_attribute</span><span class="p">(</span><span class="ss">:current_user_id</span><span class="p">,</span> <span class="kp">nil</span><span class="p">)</span>
        <span class="k">end</span>
    <span class="k">end</span>
    <span class="c1"># renders a view that displays some ride data and thanks the user for using the service</span>
    <span class="n">render</span> <span class="s1">'endride'</span>
<span class="k">end</span></code></pre></figure>
<p>
    <small>
        *To avoid exposing or depending on the auto-incremented ID of the database, rides are given another identifier based on the time they are started.
        This has a small chance of creating multiple rides with the same identifier, but is still preferable to using the database ID, since any rides that share an identifier would belong to different users.
    </small>
</p>

</body>

      </section>
      <footer>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a>, customized by <a href="https://github.com/ashruman">ashruman</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
  </body>
</html>
